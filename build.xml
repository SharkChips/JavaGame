<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<project name="SpaceEvasion" default="jar">
    <property name="target" value="1.8"/>
    <property name="source" value="1.8"/>
	<property name="name" value="SpaceEvasion"/>
	<property environment="env"/>
	<path id="SpaceEvasion.classpath">
        <pathelement location="bin"/>
		<pathelement location="lib/tinysound-1.1.1.jar"/>
	    <pathelement location="lib/jorbis-0.0.17.jar"/>
        <pathelement location="lib/vorbisspi1.0.3.jar"/>
	    <pathelement location="lib/tritonus-tinysound-1.1.1.jar"/>
    </path>
	<target name="jar" depends="clean">
		<mkdir dir="bin/"/>
		<copy includeemptydirs="false" todir="bin">
			<fileset dir="src">
				<exclude name="**/*.java"/>
			</fileset>
		</copy>
		<copy includeemptydirs="false" todir="bin">
			<fileset dir="resources">
				<exclude name="**/*.java"/>
			</fileset>
		</copy>		
		<copy includeemptydirs="false" todir="bin">
			<fileset dir="lib">
				<exclude name="**/*.java"/>
			</fileset>
		</copy>
		<javac debug="true" debuglevel="lines,vars,source" destdir="bin" includeantruntime="false" source="${source}" target="${target}">
            <src path="src"/>
            <src path="resources"/>
			<src path="lib"/>
			<classpath refid="SpaceEvasion.classpath"/>
        </javac>
		<jar destfile="bin/${name}.jar" >
			<fileset dir="bin/"/>
			<manifest>
				<attribute name="Manifest-Version" value="1.8"/>
                <attribute name="Main-Class" value="com.albertzhang.spaceevasion.Launcher"/>
				<attribute name="Implementation-Version" value="${env.BUILD_ID}"/>
            </manifest>
		</jar>
	</target>
	<target name="clean">
		<delete dir="bin"/>
	</target>
</project>